angular.module("angular-desk-menu",[]).directive("deskMenu",[function(){return{scope:{callback:"&"},restrict:"E",replace:!0,transclude:!0,template:"<nav class='desk-toolbar'><ul ng-transclude></ul></nav>",link:function(t,e,n){n.hasOwnProperty("callback")||(t.callback=function(t){}),t.$on("desk-toolbar",function(e,n){t.callback({value:n})})}}}]).directive("deskOption",["$document",function(t){return{restrict:"E",replace:!0,transclude:!0,template:"<li ng-transclude></li>",link:function(e,n,r){if(r.hasOwnProperty("label")){var o=t[0].createElement("a");o.setAttribute("href","#"),o.innerText=r.label,o.textContent=r.label,n[0].firstChild?n[0].insertBefore(o,n[0].firstChild):n[0].appendChild(o)}}}}]).directive("deskLabel",[function(){return{restrict:"E",replace:!0,transclude:!0,template:"<a href='#' ng-transclude></a>",link:function(t,e,n){}}}]).directive("deskDropdown",[function(){return{restrict:"E",replace:!0,transclude:!0,template:"<ul ng-transclude></ul>",link:function(t,e,n){}}}]).directive("deskDdOption",["$document","$timeout",function(t,e){return{restrict:"E",replace:!0,transclude:!0,template:"<li ng-transclude tabindex='0'></li>",link:function(n,r,o){r.on("click",function(t){t.stopPropagation(),r[0].style.backgroundColor="#DDDDDD",e(function(){r[0].style.backgroundColor=""},100)}),n.$on("$destroy",function(){r.off("click")});var l=null;if(o.hasOwnProperty("shortcut")){var c=o.shortcut.split("-");l={ctrl:!1,alt:!1,shift:!1,keyCode:null};for(var a=0;a<c.length;a++)"ctrl"==c[a].toLowerCase()?l.ctrl=!0:"shift"==c[a].toLowerCase()?l.shift=!0:"alt"==c[a].toLowerCase()?l.alt=!0:l.keyCode=c[1].charCodeAt(0);n.$on("desk-toolbox-shortcut",function(t,e,n){angular.equals(e,l)&&(r[0].click(),n.stopImmediatePropagation(),n.preventDefault())});var i=t[0].createElement("span");i.className="desk-toolbar-shortcut",i.innerText=o.shortcut,i.textContent=o.shortcut,r[0].appendChild(i)}}}}]).directive("deskIcon",[function(){return{restrict:"E",replace:!0,transclude:!0,template:"<span class='desk-toolbar-icon' ng-transclude></span>",link:function(t,e,n){}}}]).directive("deskValue",[function(){return{scope:{deskValue:"="},restrict:"A",link:function(t,e,n){e.on("click",function(e){e.stopPropagation(),t.$emit("desk-toolbar",t.deskValue)}),t.$on("$destroy",function(){e.off("click")})}}}]).directive("deskKeypress",["$document",function(t){return{link:function(e,n,r){t.on("keydown",function(t){e.$broadcast("desk-toolbox-shortcut",{ctrl:t.ctrlKey,shift:t.shiftKey,alt:t.altKey,keyCode:t.keyCode},t)}),e.$on("$destroy",function(){t.off("keyup keydown")})}}}]);