angular.module("angular-desk-menu",[]).directive("deskMenu",[function(){return{scope:{callback:"&"},restrict:"E",replace:!0,transclude:!0,template:"<nav class='desk-toolbar'><ul ng-transclude></ul></nav>",link:function(e,t,n){n.hasOwnProperty("callback")||(e.callback=function(e){}),e.$on("desk-toolbar",function(t,n){e.callback({value:n})})}}}]).directive("deskOption",["$document",function(e){return{restrict:"E",replace:!0,transclude:!0,template:"<li ng-transclude></li>",link:function(t,n,r){if(r.hasOwnProperty("label")){var c=e[0].createElement("a");c.setAttribute("href","#"),c.innerText=r.label,n[0].firstChild?n[0].insertBefore(c,n[0].firstChild):n[0].appendChild(c)}}}}]).directive("deskLabel",[function(){return{restrict:"E",replace:!0,transclude:!0,template:"<a href='#' ng-transclude></a>",link:function(e,t,n){}}}]).directive("deskDropdown",[function(){return{restrict:"E",replace:!0,transclude:!0,template:"<ul ng-transclude></ul>",link:function(e,t,n){}}}]).directive("deskDdOption",["$document",function(e){return{restrict:"E",replace:!0,transclude:!0,template:"<li ng-transclude></li>",link:function(t,n,r){n.on("click",function(e){e.stopPropagation()}),t.$on("$destroy",function(){n.off("click")});var c=null;if(r.hasOwnProperty("shortcut")){var o=r.shortcut.split("-");c={ctrl:!1,alt:!1,shift:!1,keyCode:null};for(var l=0;l<o.length;l++)"ctrl"==o[l].toLowerCase()?c.ctrl=!0:"shift"==o[l].toLowerCase()?c.shift=!0:"alt"==o[l].toLowerCase()?c.alt=!0:c.keyCode=o[1].charCodeAt(0);t.$on("desk-toolbox-shortcut",function(e,t,r){angular.equals(t,c)&&(n[0].click(),r.stopImmediatePropagation(),r.preventDefault())});var a=e[0].createElement("span");a.className="desk-toolbar-shortcut",a.innerText=r.shortcut,n[0].appendChild(a)}}}}]).directive("deskIcon",[function(){return{restrict:"E",replace:!0,transclude:!0,template:"<span class='desk-toolbar-icon' ng-transclude></span>",link:function(e,t,n){}}}]).directive("deskValue",[function(){return{scope:{deskValue:"="},restrict:"A",link:function(e,t,n){t.on("click",function(t){t.stopPropagation(),e.$emit("desk-toolbar",e.deskValue)}),e.$on("$destroy",function(){t.off("click")})}}}]).directive("deskKeypress",["$document",function(e){return{link:function(t,n,r){e.on("keydown",function(e){t.$broadcast("desk-toolbox-shortcut",{ctrl:e.ctrlKey,shift:e.shiftKey,alt:e.altKey,keyCode:e.keyCode},e)}),t.$on("$destroy",function(){e.off("keyup keydown")})}}}]);